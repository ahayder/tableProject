"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/scraper";
exports.ids = ["pages/api/scraper"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "cheerio":
/*!**************************!*\
  !*** external "cheerio" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("cheerio");

/***/ }),

/***/ "(api)/./pages/api/scraper.js":
/*!******************************!*\
  !*** ./pages/api/scraper.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nconst axios = __webpack_require__(/*! axios */ \"axios\");\nconst cheerio = __webpack_require__(/*! cheerio */ \"cheerio\");\nconst url = \"https://icy.tools/\";\nfunction handler(req, res) {\n    return new Promise((resolve, reject)=>{\n        axios(url).then((response)=>{\n            const html = response.data;\n            const $ = cheerio.load(html);\n            let arr = [];\n            $(\"table > tbody > tr\").each((index, element)=>{\n                let obj = {};\n                const name = $(element).find(\"p.text-ellipsis\").text();\n                const circulatingSupply = $(element).find(\"strong\").text();\n                const floorPrice = $(element).find(\"td:nth-of-type(2) p.font-bold\").text();\n                const floorPriceTrend = $(element).find(\"td:nth-of-type(2) span.text-xs\").text();\n                const sales = $(element).find(\"td:nth-of-type(3) p.font-bold\").text();\n                const salesTrend = $(element).find(\"td:nth-of-type(3) span.text-xs\").text();\n                const averagePrice = $(element).find(\"td:nth-of-type(4) p.font-bold\").text();\n                const averagePriceTrend = $(element).find(\"td:nth-of-type(4) span.text-xs\").text();\n                const volume = $(element).find(\"td:nth-of-type(5) p.font-bold\").text();\n                const volumeTrend = $(element).find(\"td:nth-of-type(5) span.text-xs\").text();\n                const marketCap = $(element).find(\"td:nth-of-type(6) p.text-base\").text();\n                const marketCapTrend = $(element).find(\"td:nth-of-type(6) p.font-bold.text-xs\").text();\n                // const marketCapTrend = $(element).find(\"td:nth-of-type(6) p.font-bold.text-xs\").text().match(/\\d.+/g);\n                if (name !== \"\") {\n                    obj[\"collectionName\"] = name;\n                    obj[\"circulatingSupply\"] = circulatingSupply;\n                    obj[\"floorPrice\"] = floorPrice;\n                    obj[\"floorPriceTrend\"] = floorPriceTrend;\n                    obj[\"sales\"] = sales;\n                    obj[\"salesTrend\"] = salesTrend;\n                    obj[\"averagePrice\"] = averagePrice;\n                    obj[\"averagePriceTrend\"] = averagePriceTrend;\n                    obj[\"volume\"] = volume;\n                    obj[\"volumeTrend\"] = volumeTrend;\n                    obj[\"marketCap\"] = marketCap;\n                    obj[\"marketCapTrend\"] = marketCapTrend;\n                    arr.push(obj);\n                }\n            // obj[\"circulatingSupply\"] = $(element).find(\"strong\").text();\n            });\n            // arr = arr.filter(element => {\n            //   return element !== \"\";\n            // });\n            console.log(arr);\n            res.status(200).json(arr);\n            resolve();\n        }).catch((error)=>{\n            res.json(error);\n            res.status(405).end();\n            resolve(); // in case something goes wrong in the catch block (as vijay commented)\n        });\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxDQUFDLENBQVksZUFBSVEsVUFBVTtvQkFDOUJSLEdBQUcsQ0FBQyxDQUFjLGlCQUFJUyxZQUFZO29CQUNsQ1QsR0FBRyxDQUFDLENBQW1CLHNCQUFJVSxpQkFBaUI7b0JBQzVDVixHQUFHLENBQUMsQ0FBUSxXQUFJVyxNQUFNO29CQUN0QlgsR0FBRyxDQUFDLENBQWEsZ0JBQUlZLFdBQVc7b0JBQ2hDWixHQUFHLENBQUMsQ0FBVyxjQUFJYSxTQUFTO29CQUM1QmIsR0FBRyxDQUFDLENBQWdCLG1CQUFJYyxjQUFjO29CQUN0Q2xCLEdBQUcsQ0FBQ21CLElBQUksQ0FBQ2YsR0FBRztnQkFDZCxDQUFDO1lBRUQsRUFBK0Q7WUFDakUsQ0FBQztZQUNELEVBQWdDO1lBQ2hDLEVBQTJCO1lBQzNCLEVBQU07WUFFTmdCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDckIsR0FBRztZQUNmVixHQUFHLENBQUNnQyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUN2QixHQUFHO1lBQ3hCUixPQUFPO1FBQ1QsQ0FBQyxFQUNBZ0MsS0FBSyxFQUFFQyxLQUFLLEdBQUssQ0FBQztZQUNqQm5DLEdBQUcsQ0FBQ2lDLElBQUksQ0FBQ0UsS0FBSztZQUNkbkMsR0FBRyxDQUFDZ0MsTUFBTSxDQUFDLEdBQUcsRUFBRUksR0FBRztZQUNuQmxDLE9BQU8sR0FBSSxDQUF1RTtRQUNwRixDQUFDO0lBQ0wsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1hcHAvLi9wYWdlcy9hcGkvc2NyYXBlci5qcz8xNjRhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZShcImF4aW9zXCIpO1xuY29uc3QgY2hlZXJpbyA9IHJlcXVpcmUoXCJjaGVlcmlvXCIpO1xuXG5jb25zdCB1cmwgPSBcImh0dHBzOi8vaWN5LnRvb2xzL1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgYXhpb3ModXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGh0bWwgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKGh0bWwpO1xuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgICQoXCJ0YWJsZSA+IHRib2R5ID4gdHJcIikuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgb2JqID0ge307XG5cbiAgICAgICAgICBjb25zdCBuYW1lID0gJChlbGVtZW50KS5maW5kKFwicC50ZXh0LWVsbGlwc2lzXCIpLnRleHQoKTtcbiAgICAgICAgICBjb25zdCBjaXJjdWxhdGluZ1N1cHBseSA9ICQoZWxlbWVudCkuZmluZChcInN0cm9uZ1wiKS50ZXh0KCk7XG4gICAgICAgICAgY29uc3QgZmxvb3JQcmljZSA9ICQoZWxlbWVudCkuZmluZChcInRkOm50aC1vZi10eXBlKDIpIHAuZm9udC1ib2xkXCIpLnRleHQoKTtcbiAgICAgICAgICBjb25zdCBmbG9vclByaWNlVHJlbmQgPSAkKGVsZW1lbnQpLmZpbmQoXCJ0ZDpudGgtb2YtdHlwZSgyKSBzcGFuLnRleHQteHNcIikudGV4dCgpO1xuICAgICAgICAgIGNvbnN0IHNhbGVzID0gJChlbGVtZW50KS5maW5kKFwidGQ6bnRoLW9mLXR5cGUoMykgcC5mb250LWJvbGRcIikudGV4dCgpO1xuICAgICAgICAgIGNvbnN0IHNhbGVzVHJlbmQgPSAkKGVsZW1lbnQpLmZpbmQoXCJ0ZDpudGgtb2YtdHlwZSgzKSBzcGFuLnRleHQteHNcIikudGV4dCgpO1xuICAgICAgICAgIGNvbnN0IGF2ZXJhZ2VQcmljZSA9ICQoZWxlbWVudCkuZmluZChcInRkOm50aC1vZi10eXBlKDQpIHAuZm9udC1ib2xkXCIpLnRleHQoKTtcbiAgICAgICAgICBjb25zdCBhdmVyYWdlUHJpY2VUcmVuZCA9ICQoZWxlbWVudCkuZmluZChcInRkOm50aC1vZi10eXBlKDQpIHNwYW4udGV4dC14c1wiKS50ZXh0KCk7XG4gICAgICAgICAgY29uc3Qgdm9sdW1lID0gJChlbGVtZW50KS5maW5kKFwidGQ6bnRoLW9mLXR5cGUoNSkgcC5mb250LWJvbGRcIikudGV4dCgpO1xuICAgICAgICAgIGNvbnN0IHZvbHVtZVRyZW5kID0gJChlbGVtZW50KS5maW5kKFwidGQ6bnRoLW9mLXR5cGUoNSkgc3Bhbi50ZXh0LXhzXCIpLnRleHQoKTtcbiAgICAgICAgICBjb25zdCBtYXJrZXRDYXAgPSAkKGVsZW1lbnQpLmZpbmQoXCJ0ZDpudGgtb2YtdHlwZSg2KSBwLnRleHQtYmFzZVwiKS50ZXh0KCk7XG4gICAgICAgICAgY29uc3QgbWFya2V0Q2FwVHJlbmQgPSAkKGVsZW1lbnQpLmZpbmQoXCJ0ZDpudGgtb2YtdHlwZSg2KSBwLmZvbnQtYm9sZC50ZXh0LXhzXCIpLnRleHQoKTtcbiAgICAgICAgICAvLyBjb25zdCBtYXJrZXRDYXBUcmVuZCA9ICQoZWxlbWVudCkuZmluZChcInRkOm50aC1vZi10eXBlKDYpIHAuZm9udC1ib2xkLnRleHQteHNcIikudGV4dCgpLm1hdGNoKC9cXGQuKy9nKTtcblxuICAgICAgICAgIGlmIChuYW1lICE9PSBcIlwiKXtcbiAgICAgICAgICAgIG9ialtcImNvbGxlY3Rpb25OYW1lXCJdID0gbmFtZTtcbiAgICAgICAgICAgIG9ialtcImNpcmN1bGF0aW5nU3VwcGx5XCJdID0gY2lyY3VsYXRpbmdTdXBwbHk7XG4gICAgICAgICAgICBvYmpbXCJmbG9vclByaWNlXCJdID0gZmxvb3JQcmljZTtcbiAgICAgICAgICAgIG9ialtcImZsb29yUHJpY2VUcmVuZFwiXSA9IGZsb29yUHJpY2VUcmVuZDtcbiAgICAgICAgICAgIG9ialtcInNhbGVzXCJdID0gc2FsZXM7XG4gICAgICAgICAgICBvYmpbXCJzYWxlc1RyZW5kXCJdID0gc2FsZXNUcmVuZDtcbiAgICAgICAgICAgIG9ialtcImF2ZXJhZ2VQcmljZVwiXSA9IGF2ZXJhZ2VQcmljZTtcbiAgICAgICAgICAgIG9ialtcImF2ZXJhZ2VQcmljZVRyZW5kXCJdID0gYXZlcmFnZVByaWNlVHJlbmQ7XG4gICAgICAgICAgICBvYmpbXCJ2b2x1bWVcIl0gPSB2b2x1bWU7XG4gICAgICAgICAgICBvYmpbXCJ2b2x1bWVUcmVuZFwiXSA9IHZvbHVtZVRyZW5kO1xuICAgICAgICAgICAgb2JqW1wibWFya2V0Q2FwXCJdID0gbWFya2V0Q2FwO1xuICAgICAgICAgICAgb2JqW1wibWFya2V0Q2FwVHJlbmRcIl0gPSBtYXJrZXRDYXBUcmVuZDtcbiAgICAgICAgICAgIGFyci5wdXNoKG9iaik7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIG9ialtcImNpcmN1bGF0aW5nU3VwcGx5XCJdID0gJChlbGVtZW50KS5maW5kKFwic3Ryb25nXCIpLnRleHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGFyciA9IGFyci5maWx0ZXIoZWxlbWVudCA9PiB7XG4gICAgICAgIC8vICAgcmV0dXJuIGVsZW1lbnQgIT09IFwiXCI7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYXJyKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oYXJyKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgcmVzLmpzb24oZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gICAgICAgIHJlc29sdmUoKTsgLy8gaW4gY2FzZSBzb21ldGhpbmcgZ29lcyB3cm9uZyBpbiB0aGUgY2F0Y2ggYmxvY2sgKGFzIHZpamF5IGNvbW1lbnRlZClcbiAgICAgIH0pO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJjaGVlcmlvIiwidXJsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidGhlbiIsInJlc3BvbnNlIiwiaHRtbCIsImRhdGEiLCIkIiwibG9hZCIsImFyciIsImVhY2giLCJpbmRleCIsImVsZW1lbnQiLCJvYmoiLCJuYW1lIiwiZmluZCIsInRleHQiLCJjaXJjdWxhdGluZ1N1cHBseSIsImZsb29yUHJpY2UiLCJmbG9vclByaWNlVHJlbmQiLCJzYWxlcyIsInNhbGVzVHJlbmQiLCJhdmVyYWdlUHJpY2UiLCJhdmVyYWdlUHJpY2VUcmVuZCIsInZvbHVtZSIsInZvbHVtZVRyZW5kIiwibWFya2V0Q2FwIiwibWFya2V0Q2FwVHJlbmQiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iLCJjYXRjaCIsImVycm9yIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/scraper.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/scraper.js"));
module.exports = __webpack_exports__;

})();